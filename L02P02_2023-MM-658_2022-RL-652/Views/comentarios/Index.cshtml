@model L02P02_2023_MM_658_2022_RL_652.Models.ComentariosViewModel

<div class="container">
    <ul class="progressbar">
        <li>AUTORES</li>
        <li>LIBROS</li>
        <li class="active">COMENTARIOS EXISTENTES</li>
        <li>NUEVO COMENTARIO</li>
    </ul>
</div>
<br />
<div class="container">
    <div class="row">
        <div class="col-md-6">
            <h5><strong>Autor:</strong> @Model.Autor.autor</h5>
        </div>
        <div class="col-md-6">
            <h5><strong>Libro:</strong> @Model.Libro.nombre</h5>
        </div>
    </div>

    <hr />

    <div class="row">
        <div class="col-md-6">
            <h4 class="text-primary">Comentarios Existentes</h4>
            @if (Model.Comentarios != null && Model.Comentarios.Any())
            {
                @foreach (var c in Model.Comentarios)
                {
                    <div class="card p-2 mb-2">
                        <h6><strong>@c.usuario</strong></h6>
                        <p>@c.comentarios</p>
                        <small class="text-muted">@c.created_at.ToString("dd/MM/yyyy HH:mm")</small>
                    </div>
                }
            }
            else
            {
                <p>No hay comentarios aún.</p>
            }
        </div>

        <div class="col-md-6">
            <h4 class="text-primary">Agregar un Comentario</h4>
            <form asp-action="GuardarComentario" method="post">
                <input type="hidden" name="idLibro" value="@Model.Libro.id" />
                <div class="form-group">
                    <label>Comentario</label>
                    <textarea name="comentario" class="form-control" required></textarea>
                </div>
                <div class="form-group mt-2">
                    <label>Usuario</label>
                    <input type="text" name="usuario" class="form-control" required />
                </div>
                <button type="submit" class="btn btn-success mt-3">Guardar Comentario</button>
            </form>
        </div>
    </div>
</div>
